!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i,r=function(e){return document.querySelector(e)},o=r("#js-difficulty-tabs"),a=(i="[data-theme]",document.querySelectorAll(i)),c=r("#js-start-game"),s=r("#js-popup-win"),u=r("#js-popup-lose"),l=r("#js-game-cards"),f=r("#js-progress-bar"),h=r("#js-number-cards-input"),m=r("#js-watch-time-input"),d=r("#js-game-time-input"),v={EASY:{cardsNum:r("#js-number-cards-easy"),watchTime:r("#js-watch-time-easy"),gameTime:r("#js-game-time-easy")},MIDDLE:{cardsNum:r("#js-number-cards-middle"),watchTime:r("#js-watch-time-middle"),gameTime:r("#js-game-time-middle")},HARD:{cardsNum:r("#js-number-cards-hard"),watchTime:r("#js-watch-time-hard"),gameTime:r("#js-game-time-hard")}};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=T(e);if(t){var r=T(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,n,i,r=g(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this)}return t=o,(n=[{key:"injectToDOM",value:function(e,t){e.textContent=t}},{key:"saveLocalStorage",value:function(e,t){if("string"!=typeof e)throw new Error('Property "name" expected be typeof string: '.concat(e," is ").concat(y(e)));localStorage[e]=JSON.stringify(t)}},{key:"readLocalStorage",value:function(e){if("string"!=typeof e)throw new Error('Property "name" expected be typeof string: '.concat(e," is ").concat(y(e)));var t=localStorage[e];if(t)return JSON.parse(t)}},{key:"logLocalStorage",value:function(){console.log(localStorage)}},{key:"clearLocalStorage",value:function(){window.localStorage.clear()}}])&&p(t.prototype,n),i&&p(t,i),o}((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._showScreen=function(e){var t=r("#js-settings-screen"),n=r("#js-game-screen");switch(e){case"SETTINGS":t.classList.remove("hidden"),n.classList.add("hidden");break;case"GAME":t.classList.add("hidden"),n.classList.remove("hidden")}},this.showScreen={settings:function(){return t._showScreen("SETTINGS")},game:function(){return t._showScreen("GAME")}},this._showPopupWin=function(){s.classList.add("visible"),setTimeout((function(){s.classList.remove("visible")}),2e3)},this._showPopupLose=function(){u.classList.add("visible"),setTimeout((function(){u.classList.remove("visible")}),2e3)},this.showPopup={win:function(){return t._showPopupWin()},lose:function(){return t._showPopupLose()}}}));function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=null,this.bgImg=t,this.pairID=n,this.solved=!1}var t,n,i;return t=e,(n=[{key:"render",value:function(){var e=document.createElement("div");e.classList.add("game__card"),e.style.backgroundImage="url(".concat(this.bgImg,")"),this.element=e}},{key:"show",value:function(){this.element.classList.remove("hidden")}},{key:"hide",value:function(){this.element.classList.add("hidden")}},{key:"guessed",value:function(){this.guessed=!0}},{key:"solved",value:function(){this.solved=!0}}])&&k(t.prototype,n),i&&k(t,i),e}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];E(this,e),this.content=t}var t,n,i;return t=e,(n=[{key:"shuffle",value:function(){for(var e=this.content,t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}this.content=e}},{key:"push",value:function(e){this.content.push(e)}},{key:"hideAll",value:function(e){var t=this;setTimeout((function(){t.content.forEach((function(e){return e.element.classList.add("hidden")}))}),e)}},{key:"log",value:function(){console.log(this.content)}}])&&A(t.prototype,n),i&&A(t,i),e}()),D="easy",j="middle",L="hard",C="custom",N={EASY:{cardsNum:6,watchTime:1,gameTime:20},MIDDLE:{cardsNum:8,watchTime:1,gameTime:25},HARD:{cardsNum:12,watchTime:2,gameTime:30},CUSTOM:{cardsNum:h.value,watchTime:m.value,gameTime:d.value}},P=function(e){for(var t=[],n=1;n<=12;n++)t.push("./assets/theme/".concat(e,"/image").concat(n,".jpg"));return t},I="frontend",R="backend",M="cars",x="cities",G="dogsFunny",Y="dogsCute",H="footballers",U="billionaires",F={FRONTEND:P(I),BACKEND:P(R),CARS:P(M),CITIES:P(x),DOGS_FUNNY:P(G),DOGS_CUTE:P(Y),FOOTBALLERS:P(H),BILLIONAIRES:P(U)};function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}v.EASY.cardsNum.textContent=N.EASY.cardsNum,v.EASY.watchTime.textContent=N.EASY.watchTime,v.EASY.gameTime.textContent=N.EASY.gameTime,v.MIDDLE.cardsNum.textContent=N.MIDDLE.cardsNum,v.MIDDLE.watchTime.textContent=N.MIDDLE.watchTime,v.MIDDLE.gameTime.textContent=N.MIDDLE.gameTime,v.HARD.cardsNum.textContent=N.HARD.cardsNum,v.HARD.watchTime.textContent=N.HARD.watchTime,v.HARD.gameTime.textContent=N.HARD.gameTime,h.addEventListener("change",(function(){N.CUSTOM.cardsNum=h.value})),m.addEventListener("change",(function(){N.CUSTOM.watchTime=m.value})),d.addEventListener("change",(function(){N.CUSTOM.gameTime=d.value}));var W=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.difficulty=null,this.theme=null,this.cardsNum=null,this.watchTime=null,this.gameTime=null}var t,n,i;return t=e,(n=[{key:"setDifficulty",value:function(e){this.difficulty=e;var t=D,n=j,i=L,r=C,o=N.EASY,a=N.MIDDLE,c=N.HARD,s=N.CUSTOM;switch(e){case t:this._setDifficulty(o);break;case n:this._setDifficulty(a);break;case i:this._setDifficulty(c);break;case r:this._setDifficulty(s)}}},{key:"getDifficulty",value:function(){return{difficulty:this.difficulty,cardsNum:this.cardsNum,watchTime:this.watchTime,gameTime:this.gameTime}}},{key:"setTheme",value:function(e){var t=F.FRONTEND,n=F.BACKEND,i=F.CARS,r=F.CITIES,o=F.DOGS_FUNNY,a=F.DOGS_CUTE,c=F.FOOTBALLERS,s=F.BILLIONAIRES;switch(e){case I:this._setTheme(t);break;case R:this._setTheme(n);break;case M:this._setTheme(i);break;case x:this._setTheme(r);break;case G:this._setTheme(o);break;case Y:this._setTheme(a);break;case H:this._setTheme(c);break;case U:this._setTheme(s)}}},{key:"getTheme",value:function(){return this.theme}},{key:"_setTheme",value:function(e){this.theme=e}},{key:"_setDifficulty",value:function(e){this.cardsNum=e.cardsNum,this.watchTime=e.watchTime,this.gameTime=e.gameTime}}])&&B(t.prototype,n),i&&B(t,i),e}());function q(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function K(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $=new(function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nav=q(t.children[0].children),this.contents=[],q(t.children).forEach((function(e){e.classList.contains("tabs-content")&&n.contents.push(e)}));var i=0;this.getActive=function(){return i},this.setActive=function(e){return i=e}}var t,n,i;return t=e,(n=[{key:"init",value:function(){this._setActiveTab(),this._handlerOnClick(),this._getDifficulty()}},{key:"_setActiveTab",value:function(){var e=this,t=this.nav,n=this.contents,i=function(t){t.forEach((function(e){return e.classList.remove("active")})),t.forEach((function(e){return e.setAttribute("data-selected",!1)})),t[e.getActive()].classList.add("active"),t[e.getActive()].setAttribute("data-selected",!0)};i(t),i(n)}},{key:"_handlerOnClick",value:function(){var e=this;this.nav.forEach((function(t,n){return t.addEventListener("click",(function(){e.setActive(n),e._setActiveTab(),e._getDifficulty()}))}))}},{key:"_getDifficulty",value:function(){var e=this.nav[this.getActive()].getAttribute("data-difficulty");this._getCustomDifficulty(e),W.setDifficulty(e)}},{key:"_getCustomDifficulty",value:function(e){[h,m,d].forEach((function(t){return t.addEventListener("change",(function(){W.setDifficulty(e)}))}))}}])&&K(t.prototype,n),i&&K(t,i),e}())(o);function z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Q=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements=t;var n=0;this.getActive=function(){return n},this.setActive=function(e){return n=e}}var t,n,i;return t=e,(n=[{key:"init",value:function(){this._setActiveTab(),this._handlerOnClick()}},{key:"_setActiveTab",value:function(){var e=this.getActive();this.elements.forEach((function(e){e.classList.remove("active"),e.setAttribute("data-selected",!1)})),this.elements[e].classList.add("active"),this.elements[e].setAttribute("data-selected",!0),W.setTheme(this.elements[e].getAttribute("data-theme-name"))}},{key:"_handlerOnClick",value:function(){var e=this;this.elements.forEach((function(t,n){return t.addEventListener("click",(function(){e.setActive(n),e._setActiveTab()}))}))}}])&&z(t.prototype,n),i&&z(t,i),e}())(a);function V(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var X=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interval=null}var t,n,i;return t=e,(n=[{key:"init",value:function(e){var t=this,n=100/e,i=100;this.interval=setInterval((function(){(i-=n)<=0&&(setTimeout((function(){oe.finishGame(!1)}),1e3),f.style.width="0%",clearInterval(t.interval)),f.style.width="".concat(i,"%")}),1e3)}},{key:"stop",value:function(){clearInterval(this.interval)}},{key:"reset",value:function(){this.interval=null,f.style.width="100%"}}])&&V(t.prototype,n),i&&V(t,i),e}());function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=re(e);if(t){var r=re(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ie(this,n)}}function ie(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(o,e);var t,n,i,r=ne(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).settings={cardsNum:null,watchTime:null,gameTime:null},e.solved=[],e.guessed=[],e}return t=o,(n=[{key:"init",value:function(){$.init(),Q.init()}},{key:"start",value:function(e,t){var n=this,i=this.settings;i.cardsNum=e.cardsNum,i.watchTime=e.watchTime,i.gameTime=e.gameTime;var r=1e3*e.watchTime;this.showScreen.game();for(var o=function(e){var i=new S(t[e],e),o=new S(t[e],e);i.render(),o.render(),setTimeout((function(){i.element.addEventListener("click",(function(){n._handleClick(i)})),o.element.addEventListener("click",(function(){n._handleClick(o)}))}),r),O.push(i),O.push(o)},a=0;a<e.cardsNum;a++)o(a);O.shuffle(),O.hideAll(r),O.content.forEach((function(e){return l.appendChild(e.element)})),setTimeout((function(){X.init(n.settings.gameTime)}),r)}},{key:"_handleClick",value:function(e){if(!e.solved){if(e.show(),this.guessed.push(e),2===this.guessed.length){var t=this.guessed[0],n=this.guessed[1];this._isPair(t,n)?(t.solved=!0,n.solved=!0,this.solved.push(t),this.solved.push(n)):setTimeout((function(){t.hide(),n.hide()}),500),this.guessed=[]}this._isWin()&&setTimeout((function(){oe.finishGame(!0)}),500)}}},{key:"_isPair",value:function(e,t){return e.pairID===t.pairID&&e.element!=t.element}},{key:"_isWin",value:function(){return this.solved.length===2*this.settings.cardsNum}},{key:"finishGame",value:function(e){switch(X.stop(),X.reset(),this._reset(),this.showScreen.settings(),e){case!0:this.showPopup.win();break;case!1:this.showPopup.lose()}}},{key:"_reset",value:function(){this.solved=[],this.guessed=[],O.content=[],l.innerHTML=null}}])&&ee(t.prototype,n),i&&ee(t,i),o}(_));window.onload=function(){oe.init(),c.addEventListener("click",(function(){oe.start(W.getDifficulty(),W.getTheme())}))}}]);